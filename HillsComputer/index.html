<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>電腦入侵中……</title>

<style>
html,body{
  margin:0;
  height:100%;
  overflow:hidden;
  background:url('/monitor0314/images/XP.jpg') no-repeat center/cover;
  font-family:system-ui;
}

/* ===== Desktop ===== */
.desktop{
  height:100%;
  padding:20px;
  display:flex;
  flex-direction:column;
  gap:16px;
  align-items:flex-start;
}
.icon{
  width:80px;
  display:flex;
  flex-direction:column;
  align-items:center;
  cursor:pointer;
  color:white;
  font-size:14px;
  text-align:center;
  text-shadow:0 2px 4px black;
  user-select:none;
}
.icon img{
  width:48px;
  height:48px;
  margin-bottom:6px;
}

/* ===== XP Window ===== */
.window{
  position:fixed;
  top:80px;
  left:120px;
  width:640px;
  height:420px;
  background:#c0d6f7;
  border:1px solid #000;
  box-shadow:3px 3px 12px rgba(0,0,0,.6);
  display:none;
  z-index:10;
}
.titlebar{
  height:26px;
  background:#0a64ad;
  color:white;
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:0 6px;
  cursor:move;
}
.titlebar button{
  background:#ff4c4c;
  border:none;
  color:white;
  width:22px;
  height:22px;
  cursor:pointer;
}
.content{
  height:calc(100% - 26px);
  padding:12px;
  display:flex;
  flex-wrap:wrap;
  gap:16px;
  overflow:auto;
  background:#c0d6f7;
}

/* ===== Video Window ===== */
.video-content{
  background:black;
  justify-content:center;
  align-items:center;
}
</style>
</head>

<body>

<!-- ===== Desktop Icons ===== -->
<div class="desktop">

  <div class="icon" data-type="image" data-src="/monitor0314/images/PC.png">
    <img src="/monitor0314/icons/Desktop.png">我的電腦
  </div>

  <div class="icon" data-type="gallery"
    data-images='[
      "/monitor0314/images/Calendar01.jpg",
      "/monitor0314/images/Calendar02.jpg",
      "/monitor0314/images/Calendar03.jpg",
      "/monitor0314/images/Calendar04.jpg",
      "/monitor0314/images/Calendar05.jpg",
      "/monitor0314/images/Calendar06.jpg",
      "/monitor0314/images/Calendar07.jpg",
      "/monitor0314/images/Calendar08.jpg",
      "/monitor0314/images/Calendar09.jpg",
      "/monitor0314/images/Calendar10.jpg",
      "/monitor0314/images/Calendar11.jpg",
      "/monitor0314/images/Calendar12.jpg"
    ]'>
    <img src="/monitor0314/icons/Calendar.png">日曆
  </div>

  <div class="icon" data-type="url" data-src="https://www.google.com/">
    <img src="/monitor0314/icons/google.png">GOOGOO
  </div>

  <div class="icon" data-type="image" data-src="/monitor0314/images/family.jpg">
    <img src="/monitor0314/icons/photo.png">瑪莉亞與喬登
  </div>

  <div class="icon" id="monitorIcon">
    <img src="/monitor0314/icons/monitor.png">監視器
  </div>

</div>

<!-- ===== Monitor Folder Window ===== -->
<div class="window" id="monitorWindow">
  <div class="titlebar" id="monitorTitle">
    <span>監視器</span>
    <button id="monitorClose">X</button>
  </div>
  <div class="content">
    <div class="icon folder-icon" data-video="/monitor0314/videos/video1.mp4">
      <img src="/monitor0314/icons/camera.png">監視器 1
    </div>
    <div class="icon folder-icon" data-video="/monitor0314/videos/video2.mp4">
      <img src="/monitor0314/icons/camera.png">監視器 2
    </div>
    <div class="icon folder-icon" data-video="/monitor0314/videos/video3.mp4">
      <img src="/monitor0314/icons/camera.png">監視器 3
    </div>
    <div class="icon folder-icon" data-video="/monitor0314/videos/video4.mp4">
      <img src="/monitor0314/icons/camera.png">監視器 4
    </div>
  </div>
</div>

<!-- ===== Video Window ===== -->
<div class="window" id="videoWindow" style="left:200px;top:120px;">
  <div class="titlebar" id="videoTitle">
    <span>監視器畫面</span>
    <button id="videoClose">X</button>
  </div>
  <div class="content video-content" id="videoContent"></div>
</div>

<script>
/* ===== Monitor Folder ===== */
const monitorIcon = document.getElementById('monitorIcon');
const monitorWindow = document.getElementById('monitorWindow');
const monitorClose = document.getElementById('monitorClose');

monitorIcon.onclick = ()=> monitorWindow.style.display='block';
monitorClose.onclick = ()=> monitorWindow.style.display='none';

/* ===== Video Window ===== */
const videoWindow = document.getElementById('videoWindow');
const videoContent = document.getElementById('videoContent');
const videoClose = document.getElementById('videoClose');

document.querySelectorAll('.folder-icon').forEach(icon=>{
  icon.onclick = ()=>{
    videoContent.innerHTML =
      `<video src="${icon.dataset.video}" controls autoplay
        style="max-width:100%;max-height:100%;"></video>`;
    videoWindow.style.display='block';
  };
});

videoClose.onclick = ()=>{
  videoWindow.style.display='none';
  videoContent.innerHTML='';
};

/* ===== Drag Windows ===== */
function makeDraggable(win,title){
  let d=false,x,y;
  title.onmousedown=e=>{
    d=true;x=e.clientX-win.offsetLeft;y=e.clientY-win.offsetTop;
  };
  document.onmousemove=e=>{
    if(d){
      win.style.left=e.clientX-x+'px';
      win.style.top=e.clientY-y+'px';
    }
  };
  document.onmouseup=()=>d=false;
}
makeDraggable(monitorWindow,document.getElementById('monitorTitle'));
makeDraggable(videoWindow,document.getElementById('videoTitle'));
</script>

</body>
</html>
